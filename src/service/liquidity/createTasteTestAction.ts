import { ITTConfigJSON, ITasteTestVariablesJSON } from "../../@types/json.js";
import { getNetwork } from "../../utils/args.js";
import "../../utils/env.js";
import { getWallets, saveConfig, saveTTVariables } from "../../utils/files.js";

const v1PoolPolicyIdPreview =
  "4086577ed57c514f8e29b78f42ef4f379363355a3b65b9a032ee30c9";
const v1FactoryTokenPreview =
  "947dd0cec86ce6106517fbcf74ce93530e1f60127be57f0a4bbc50c1.666163746f7279";
const v1PoolAddressPreview =
  "addr_test1wp84ekhjcvj0drf8tts6u85cfm85whadsm2jl6gw833ak7qu58mta";
const v1PoolPolicyScriptPreview =
  "59050e01000033323232323233223322323232323232222322325335335300c12001232533533300900135500322001500510121533533300900100750051012133300900100848907666163746f7279003530090012253350011622153350011622135300f0022253350011622153350011622153350011622153350011533500913335501975c66aa032eb9d6802110b110b1aa80091001080989931900999ab9c4901035054350001313530070012253350011622135300b00222533500116221533500116221533500116221533500116221533500116221533500116221533500116221533500116221533500116221533500116221533500115335017162323221333353333573466e1d400920062321222230040053232323232323333573466e1d4005200c21222222200323333573466e1d4009200a21222222200423333573466e1d400d2008233221222222233001009008375c6ae854014dd69aba135744a00a46666ae68cdc3a8022400c4664424444444660040120106eb8d5d0a8039bae357426ae89401c8cccd5cd19b875005480108cc8848888888cc018024020c0e8d5d0a8049bae357426ae8940248cccd5cd19b875006480088c848888888c01c020c0ecd5d09aab9e500b23333573466e1d401d2000232122222223005008303c357426aae7940308c98c80f8cd5ce01f81f01e01d81d01c81c01b81b09aab9d5004135573ca00626aae7940084d55cf280089baa001357426aae7940108cccd5cd19b875003480108c848888c008014c0c0d5d09aab9e500523333573466e1d401120022321222230010053232323333573466e1cd55cea8012400046644246600200600464646666ae68cdc39aab9d5001480008dd71aba135573ca004464c6407466ae700ec0e80e04dd50009aba15002375a6ae84d5d1280111931901b99ab9c038037035135573ca00226ea8004d5d09aab9e500623333573466e1d40152000232122223003005375c6ae84d55cf280391931901a19ab9c03503403203103002f26253350021335502930273758032002442c4c4c26aae7540044dd5000910b099b8a48902702000375c0024446464600200a640026aa02444a66a002201c4426a00444a66a666ae68cdc78010048098090980380089803001990009aa80891299a80088069109a80111299a999ab9a3371e00400e0240222a66a666ae68cdc3800a4000024022202220242600c00646466aa00a6aae754004c00cd55cf280089baa0013200135500c2233335573e0024a010466a00e6ae84008c00cd5d1001005889119118011bab0013200135500d223233335573e0044a014466a01266aa00e600c6aae754008c014d55cf280118021aba200300e13574200222442466002006004640026aa01244244a66a002200e442a66a60080042014266a600c240020080022244004244244660020080062440042440024646464646666ae68cdc3a800a4004466644424466600200a0080066eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d4009200023212230020033232323333573466e1d400520022321223001003375c6ae84d55cf280191999ab9a3370ea004900011909118010019bae357426aae7940108c98c8038cd5ce00780700600589aab9d5001137540026ae84d55cf280311931900499ab9c00a009007006135573aa00626ae8940044d55cf280089baa001498480052410350543100112323001001223300330020020014891c947dd0cec86ce6106517fbcf74ce93530e1f60127be57f0a4bbc50c10048810001";
const v1PoolValidatorScriptPreview =
  "591e7c0100003323322323232323232323233223232323232323232323232322232323232232323223232533533300d3333573466e1cd55cea805a400046464646424666600200a00800600466a02aeb8d5d09aba2500c375c6ae85402cc8c8c8c8cccd5cd19b875001480088c8c8488cc00401000cc8c8c8c8c8c8c8c8c8cccd5cd19b8735573aa010900011a999aa818bad75a6ae85400c88c8c8c8c8c8c8c8c848cccccccc00402402001c01801401000c008dd71aba135744a0166eb8d5d0a805198138038031bae35742a0146eb8d5d0a8051bae35742a0146eb8d5d0a8051bae35742a014464c6406666ae700d00cc0c44d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135573ca00226ea8004d5d09aba25004375a6ae85400c8cccd5cd19b8750024800084880088c98c80a4cd5ce01501481381309aab9d5002135573ca00226ea8004d5d0a8059bae35742a016464c6404466ae7008c088080cccd5cd19b875004480208c848888c00c014dd71aba135573ca00e46666ae68cdc3a802a400842444400246666ae68cdc3a8032400442444400446666ae68cdc3a803a400046464244446600800c00a666aa048eb9d71aba135744a014666aa046eb9d71aba1500923263202533573804c04a0460440420406666ae68cdc39aab9d5002480008cc8848cc00400c008c8c8c8c8c8c8c8c8c8c8c8cccd5cd19b8735573aa014900011999999999911111111109199999999980080580500480400380300280200180119a80f119191999ab9a3370e6aae7540092000233221233001003002302735742a00460466ae84d5d1280111931901919ab9c033032030135573ca00226ea8004d5d0a80519a80f00f9aba150093335502175ca0406ae854020ccd54085d728101aba1500733501e02935742a00c66a03c66aa058054eb4d5d0a8029919191999ab9a3370e6aae75400920002332212330010030023232323333573466e1cd55cea8012400046644246600200600466a05aeb4d5d0a80118171aba135744a004464c6406c66ae700dc0d80d04d55cf280089baa00135742a0046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40b5d69aba15002302e357426ae8940088c98c80d8cd5ce01b81b01a09aab9e5001137540026ae84d5d1280111931901919ab9c033032030135573ca00226ea8004d5d0a80219a80f3ae35742a00666a03c66aa058eb88004d5d0a80118121aba135744a004464c6405c66ae700bc0b80b04d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa00135742a0046464646666ae68cdc3a800a400c46424444600800a60426ae84d55cf280191999ab9a3370ea004900211909111180100298119aba135573ca00846666ae68cdc3a801a400446424444600200a603a6ae84d55cf280291999ab9a3370ea00890001190911118018029bae357426aae7940188c98c80a4cd5ce01501481381301281209aab9d5001137540026ae84d5d1280111931901119ab9c023022020102113263202133573892010350543500021135573ca00226ea80044d55cea80109aab9e50011375400226ae8940044d5d1280089aab9e500113754002640026aa03044464a66a666ae68cdc38010030088080b0a99a999ab9a3371000400c02202026600866e0401800ccdc080300109991091980080180119b84003500133708004a002266008004002640026aa02e444a66a666ae68cdc3800802007807080109980180099b860020014800048c88c008dd6000990009aa80b111999aab9f00125018233501730043574200460066ae8800804c8c8c8c8cccd5cd19b8735573aa00690001199911091998008020018011919191999ab9a3370e6aae7540092000233221233001003002301535742a00466a0180286ae84d5d1280111931900c19ab9c019018016135573ca00226ea8004d5d0a801999aa803bae500635742a00466a010eb8d5d09aba2500223263201433573802a02802426ae8940044d55cf280089baa0011335500175ceb44488c88c008dd5800990009aa80a11191999aab9f0022501723350163355015300635573aa004600a6aae794008c010d5d100180909aba100112232323333573466e1d4005200023212230020033005357426aae79400c8cccd5cd19b8750024800884880048c98c8048cd5ce00980900800789aab9d500113754002464646666ae68cdc39aab9d5002480008cc8848cc00400c008c014d5d0a8011bad357426ae8940088c98c803ccd5ce00800780689aab9e5001137540024646666ae68cdc39aab9d5001480008dd71aba135573ca004464c6401a66ae7003803402c4dd500089119191999ab9a3370ea00290021091100091999ab9a3370ea00490011190911180180218031aba135573ca00846666ae68cdc3a801a400042444004464c6402066ae700440400380340304d55cea80089baa0012323333573466e1d40052002200523333573466e1d40092000200523263200c33573801a01801401226aae74dd5000891001091000919191919191999ab9a3370ea002900610911111100191999ab9a3370ea004900510911111100211999ab9a3370ea00690041199109111111198008048041bae35742a00a6eb4d5d09aba2500523333573466e1d40112006233221222222233002009008375c6ae85401cdd71aba135744a00e46666ae68cdc3a802a400846644244444446600c01201060186ae854024dd71aba135744a01246666ae68cdc3a8032400446424444444600e010601a6ae84d55cf280591999ab9a3370ea00e900011909111111180280418071aba135573ca018464c6402466ae7004c04804003c03803403002c0284d55cea80209aab9e5003135573ca00426aae7940044dd50009191919191999ab9a3370ea002900111999110911998008028020019bad35742a0086eb4d5d0a8019bad357426ae89400c8cccd5cd19b875002480008c8488c00800cc020d5d09aab9e500623263200b33573801801601201026aae75400c4d5d1280089aab9e500113754002464646666ae68cdc3a800a400446424460020066eb8d5d09aab9e500323333573466e1d400920002321223002003375c6ae84d55cf280211931900419ab9c009008006005135573aa00226ea800444888c8c8cccd5cd19b8735573aa0049000119aa80518031aba150023005357426ae8940088c98c8020cd5ce00480400309aab9e5001137540029309000a49035054310011221233001003002112200212212233001004003112323001001223300330020020013333332323322323232323322323232323232323232323232323232323232323322323232323233223232323232323232323232323322323232323232323232323232323232322222222232323500a22323500822223232323232533335010221300302c21300248203032f24084c0040a84c0040a88c94cccd40448854cd4cc0b8060d540188880084d40208894cd4ccc0fc0f8008d5402488800854018415c4150854cd4cc0b405cd540148880084d401c8894cd4ccc0f80f4008d54020888008540144158414c54cd4cc0b0058d540108880084d40188894cd4ccc0f40f0008d5401c88800854010415441485400454cd4ccd5cd19b893235001223500222533350022135004225333500221337020020082c2c2c2c6a01e446a00444444444440080020a40a22a6666a020446426a024446a0044444444444a66a666aa609424002446a004444a66a66605800404c66e2922010270200001d153353304600333047304b0275049133506b005004100410045067009132300e001622153350011300f0022213230120016232325333530283305a337046a00a4466606ea0080040026a0084466606ea00800400290011098010009098010008991801000b1299a9a802911a803112999a9982a8020010a999a9982a801800882d082d082d882d082d89aa804111299a80090a99a998148009a80c111a801111111111100110a99a999ab9a3375e00260a66a036444466660b66604e900100b80180100082e02d8a99a999821821280b99a83099aa82e80e19a83099aa82e99b8a4890270200001348008cd4184cd54174cdc5245036c7020000130065062506215335333573466e20d402888ccc0f14024008005200205b05c15335333573466e20d402488ccc0f14024008005200205b05c1533533303648018cd54174070cdc5244102702000013500713500822253350012153353302e0013501d223500222222222220022323232321353333573466e1cd55cea8022400046a666aa0b4eb5d69aba135744a004446464646424666600200a0080060046607a00a0086eb4d5d0a8031bae35742a00c664464646666ae68cdc39aab9d5002480008cd418cc014d5d0a80118029aba135744a004464c640d666ae701881d01a44d55cf280089baa001335505c75ceb8d5d0a80311931903219ab9c05b06d062222253353235005223500322350042235004225335333573466e3c0100081c81c454cd4ccd5cd19b8f0030010720711350072235007225335333573466e3c0100081d81d44cc19800c00441d441c441c4cd417c05c05854cd4ccd5cd19b8f00302006906815335333573466e1c00804c1a41a04ccd54c15c48004d415541608d400888d400c894cd4ccd5cd19b8700400206e06d133054003001106d3355305612001200133506e3303b4800920a01f33506e3303b4801920d00f33506e3303b4800920c801506f106810681068135744a00226ae8940044d55cf280089baa0011616105b105b105b105b105b105a105910561323232325335333573466e200040081641605854cd4ccd5cd19b8733702002004900002c82c0a801899a82f19aa82d00f19a82f19aa82d00f19b81001002505f500333303600301d01d337049040497a00a400426660a8036002a0b86a002444004426a020446a0044444444444a66a666aa609a240026a096a09c609e01a0062a66a666aa609a240026a096a09c609e01a02626aa020444a66a00242a66a660620026a040446a004444444444400442a66a666ae68cdd7800982d8118320318a99a999825825280fa835083209919299a982080108329109a801111299a8020a99a999ab9a3371e05c0060d60d42a66a666ae68cdc780300103583508358835083511083619b8a48810873636f6f70657220003302c33706a042904048726002281e280f883188310830882f082f0a99a98051a807911a80111111111110050991801800b110a99a80089802001110991803800b0a99a80408289109a80091191191911111299a98049a80e111a80111111111110048991803800b110a99a80089804001110991805800b1299a998198019a80091100109a800911299a80090a99a998160009a80d911a801111111111100110a99a999ab9a3375e00260ac6a03c444466660bc008244004a0740020be0bc2a66a6666aa609a2400266a0a4444600660040024002440c00220be2a66a666ae68cdc419b81501b00d01905e05f15335323501d2235002222222222233355305512001223500222253353305101200313350760050041004507200933040304402150421323008001622153350011300900222132300c0016105e105e105e105d105c105923500122253350012153353302b0013501a22350022222222222002215335333573466ebc004cdd2a405066ae80c15802cdd882d82f02e8a99a981c99199aa982409000911a80111299a999ab9a3371e0040500c60c42006266a0d0008006a0ca0026a00c44400420ba4426a004444a66a0082a66a666ae68cdc78130018318310a99a999ab9a3371e0840040c60c42a66a666ae68cdc3800a40040c60c42666094092a03c66a0d066aa0c801866a0d066aa0c808490012834a834883108310831110832082e882e082d990009aa82f11299a8008a82f1109a801111299a9981e8019981f18210042820099a83100298038020980380208289191a802911299a9981a8019981b181d1919a80091a80091100191a800911111110042802281c0a99a99981e01da808282d899aa80211a800911299a999ab9a3371e01c0040b20b026aa014444a66a00242a66a660560026a034446a004444444444400442666ae68cdd7800982a9a80e9111199982e80200199814a400402e0140bc0ba20b820b620b04a66a01826aa00e444a66a00242a66a660500026a02e446a004444444444400442666ae68cdd780098291a80d1111199982d0021909119800801806a80d80100082d82d082c882c11082b882a082a09a800911a800911299a80090a99a998128009a80a111a80111111111110011191909999ab9a3370ea00290011190911801001991919191999ab9a3370e6aae75400d200023232321233300100400300232306737580026ae84d5d128021bae35742a0066eb8d5d0a80191931902f19ab9c05506705c135744a00226aae7940044dd50009aba135573ca00646666ae68cdc3a8012400046424460020066464646464646464646666ae68cdc39aab9d5008480008d4ccd54169d6bad35742a006446464646464646464246666666600201201000e00c00a0080060046eb8d5d09aba2500b375c6ae854028cc0fc01c018dd71aba1500a375c6ae854028dd71aba1500a375c6ae854028dd71aba1500a2326320643357380b60da0c426ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aab9e5001137540026ae84d55cf280211931902d19ab9c051063058057135573aa00226ea8004541645416054cd4004588854cd400440088858d402c88d400888888888894cd4cccd402c940f8940f8940f88ccd54c12448004cd4138894cd40088400c400540f88d4004894cd4cc0b80080104d410800c5410402c84d400488d4004888ccd54c1244800488d4008888d402088d4014894cd4cccc12c01000c0080044cd41b80240204021419803c4c98c8160cd5ce2481024c66000613500a223333500123263204e3357389211a73637269707420696e707574206e6f7420666f756e64202121210005723263204e33573892011a73637269707420696e707574206e6f7420666f756e64202121210005723263204e33573892011a73637269707420696e707574206e6f7420666f756e64202121210005723301f35003222222222200a001320013550502253350011505022135005225335333014350042235001222002002001133505300430060031300600313500222350022222222222007135001223500222222222223500422350012253335002210011356261356264881002223232300100532001355046225335001103f22135002225335333573466e3c00802411010c4c01c0044c01800cc8004d54114894cd400440f8884d4008894cd4ccd5cd19b8f00200704304215335333573466e1c0052000043042104210431300600322333003371a002002004640026aa0804444646464a66a666ae68cdc48022400007e07c200a2a66a666ae68cdc48032400007e07c266e2cd5400c88004c020d5400c880084cdc59aa8009100099980399b8100648008ccdc600619b81371a00a01800a66e00d5400c88008d54004880084cd540fccdc1a80080519b86500100a1337006aa0024400266e3800d20001335503d3370600200e66e1800401cc8004d540fc88c94cd4ccd5cd19b87002480000e80e45221001337166aa0024400260066aa00244004266aa07466e0c00400ccdc3000801a41000890400224100089001190009aa81d111299a8008a80c1109a80111299a999ab9a3371e00c00407207026a03a00226600e00c006640026aa072444a66a004264c6406466ae7124011a73637269707420696e707574206e6f7420666f756e64202121210003b22135002225335330080020051001133007003005225335333573466e3cd400888008d4004880080c80c44ccd5cd19b8735002220013500122001032031103132001355037223232325335333573466e20cdc12801a80124000068066224440022a66a666ae68cdc3a801a40000680662601290000a99a999ab9a3370ea006a0040680662601290010a99a999ab9a33710a006a0040680662601490000a99a999ab9a33710a006900001a019898029980319b81008500333702010a004266002900119b8048008cdc1a801a801190009aa81d91119299a999ab9a3370e66e08cdc1001801a802a80301b81b098060018a99a999ab9a3370e00466e0000d20020370361300d00315335333573466e24cdc119b8250015001500550060370361330045001002133004003500113370666e000080052004135002220011350012200232001355036222325335333573466e1c0080180c80c45854cd4ccd5cd19b880020060320311330043370200c00666e040180084cc0d4cdc2001a80099b840025001133004002001320013550352225335333573466e1c0040100c00bc40084cc00c004cdc3001000a4000424446006008424446004008266e2d200048810048202eadc0c88ccc00d2004335502a0020080012225335333573466e1cd400888ccc02400c00800520020290281333573466e24cc88cc008005200032001355031222533500210012213300500133700006900118020008018148140814119801000a816190009aa816111299a80108009109a8011119803801999804001000802990009aa8159111299a80108009109a80111299a999ab9a3370e00290000158150999804003801802899980400380199a8180919980080400180100291119191800802990009aa8171119a800a4000446a00444a66a666ae68cdc78010048160158980380089803001990009aa8169119a800a4000446a00444a66a666ae68cdc7801003815815080089803001a44107666163746f72790022350022235003223333008004003002001221233001003002222232335005233500425335333573466e3c0080040940905400c409080908cd4010809094cd4ccd5cd19b8f002001025024150031024153350032153350022133500223350022335002233500223301800200120272335002202723301800200122202722233500420272225335333573466e1c01800c0a80a454cd4ccd5cd19b8700500202a0291330100040011029102910221533500121022102212122300200311220012122300100322333573466e1c00800407006c888ccd54c02848004d403940348d400488ccd54c03448004d404540408d400488ccd40048cc0292000001223300b00200123300a00148000004cd54c024480048d400488cd54080008ccd40048cd54c034480048d400488cd54090008d5403800400488ccd5540240440080048cd54c034480048d400488cd54090008d54034004004ccd554010030008004444888ccd54c010480054080cd54c020480048d400488cd5407c008d54024004ccd54c0104800488d4008894cd4ccd54c03448004d402d40388d400488cc028008014018400c4cd409001000d4084004cd54c020480048d400488c8cd5408000cc004014c8004d54098894cd40044d5402800c884d4008894cd4cc03000802044888cc0080280104c01800c008c8004d5407c88448894cd40044008884cc014008ccd54c01c480040140100044484888c00c0104484888c00401048cd402088ccd400c88008008004d400488004c8004d5406c8844894cd400454074884cd4078c010008cd54c01848004010004c8004d5406888448894cd40044d400c88004884ccd401488008c010008ccd54c01c48004014010004448cc004894cd40084050400404488ccd5cd19b8f00200101201111233001225335002100110110101233500222333500322002002001350012200112212330010030021122232323333573466e1cd55cea80124000466aa026600c6ae854008c014d5d09aba2500223263201033573800e03201c26aae7940044dd5000a490350543100122123300100300223500122223374a900019aba0375200866ae814cd400c4cdd2a40006ec402c884cdd2a400466ae80dd400119aba03008001376201a66ae80dd480119aba0374e60140026ec402c8d400488888888cdd2a400066ae80dd480419aba0375200e66ae80dd480319aba0375200a66ae80dd480219aba035003223235001223374a900019aba0300f002335740601e0026ec404ccd54050008004cd5d01ba90023357406ea4004dd880711ba8001225335333573466e3c00800402001c4488800c54cd4ccd5cd19b91002001008007112220011122200222221233330010050040030023200135500c2253350011376200644266ae80dd48011802000a4c640026aa0144444a66a00420024426a00444a66a666ae68cdc78038010050048999804003801802899980400380199a8078020028910010910008891091980080180109ab13110919800801801190009aa802111999aab9f001250052335004375c6ae84008c00cd5d1001002889100109109119800802001890008891918008009119801980100100099a89119a89119801241a01e66aa0089112000000000000000000000000000000000000000000000000000000000000000000048810544554d4d590022123300100300220011122123300100300211200148811c947dd0cec86ce6106517fbcf74ce93530e1f60127be57f0a4bbc50c10048811c2494bd0d7d18c12e1116b26159ab99278d564820af1e4eac0246af4b0048811c4f5cdaf2c324f68d275ae1ae1e984ecf475fad86d52fe90e3c63db780048811c4086577ed57c514f8e29b78f42ef4f379363355a3b65b9a032ee30c90001";

export const createTasteTestAction = async () => {
  const network = getNetwork();
  const wallets = await getWallets();

  const data: ITTConfigJSON = {
    deadline: Date.now() + 1000 * 60 * 60 * 2, // Defaults to 2 hours
    project: {
      addresses: {
        cleanupRefund: "",
        liquidityDestination: wallets[0].address,
        tokenHolder: wallets[1].address,
        withdrawPenalty: wallets[0].address,
        publishScripts: wallets[2].address,
      },
      description: "",
      name: "",
      token: {
        decimals: 6,
        readableName: "Example Token Name",
        suppliedAmount: 0,
      },
    },
    scriptType: "optimized",
    v1PoolData: {
      address: network === "preview" ? v1PoolAddressPreview : "",
      factoryToken: network === "preview" ? v1FactoryTokenPreview : "",
      policyId: network === "preview" ? v1PoolPolicyIdPreview : "",
      policyScriptBytes: network === "preview" ? v1PoolPolicyScriptPreview : "",
      validatorScriptBytes:
        network === "preview" ? v1PoolValidatorScriptPreview : "",
    },
  };

  const tasteTestVariables: ITasteTestVariablesJSON = {
    lpTokenAssetName: "",
    projectTokenAssetName: Buffer.from(
      data.project.token.readableName,
    ).toString("hex"),
    projectTokenPolicyId: "",
  };

  await saveTTVariables(tasteTestVariables);
  await saveConfig(data);
};
